# Подготовка Superpowers

## Создание структуры проекта

> Я предполагаю, что вы уже установили Superpowers и немного с ним поработали, потому мы переходим сразу к игре. Если вам нужно изучить основы работы с приложением, пожалуйста прочитайте [официальную документацию][1].

Мы запустили сервер и создали **новый проект**, который называется `PongTutorial`.

Начнем с создания ассета **Scene** _(Сцена)_ (Нажмите `new asset` _(создать ассет)_ или `ctrl+n`) с названием **Game** _(Игра)_.

В **settings** _(настройках)_, мы поместим Game в **Startup Scene** _(Начальная Сцена)_ (перетащите или напишите Game). Должна появиться серая метка. И установим **Screen ratio** _(Соотношение экрана)_ на (400, 300).

Давайте созадим папки для ассетов: GameSprites для Спрайтов, GameSounds для Звуков и GameScripts для Скриптов.

Теперь создадим новые ассеты: 4 Sprites _(Спрайты)_, 3 Sounds _(Звуки)_ и 2 Scripts _(Скрипты)_, также добавим ассет Font _(Шрифт)_:

> Порядок папок и ассетов не имеет значения.

* Game
* GameSprites
    * background
    * pad1
    * pad2
    * ball
* GameScripts
    * Ball
    * Paddles
* GameSounds
    * tac
    * toc
    * tada
* Font

![settingassets.png](https://github.com/mseyne/superpowers-tutorials/blob/master/1SuperPong/img/settingassets.png?raw=true)

## Загрузка игровых ассетов

*Ассет похож на коробку, которая содержит какой-то элемент игры. Это может быть изображение, скрипт, звук и т.д.*

Мы построили структуру игровых ассетов, но они останутся пустыми, если мы не вложим в них содержание (файлы для спрайтов и звуков, код для скриптов).

Сначала вам нужно загрузить ассеты с [github репозитория][2].

Ассеты спрайтов и звуков должны быть загружены внутрь проекта. Для каждого ассета, мы загружаем связанный с ним файл. (Например, background.png в ассет backgound)

Для ассетов спрайтов нужна настройка с **установкой размера сетки**, она должна быть такой же, как размер самого изображения, потому что мы не будем использовать кадры в этой игре. Мы таеже оставим стандартные значения frames/row _(кадры/строка)_ и frames/column _(кадры/столбец)_, равные 1 для обоих.

Для каждого ассаета Спрайта, мы изменим значение рендеринг **Pixels / Unit** _(Пиксели / единица)_, которое по умолчанию 100, на 50.

Мы не будем изменять **основу** у наших спрайтов. Значение по умолчанию в % (50, 50) это означает, что основа находится по центру и это подходит для всех спрайтов нашей игры.

Вот, для примера, pad2 с правильными настройками.

![spriteset.png](https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/spriteset.png)

В Ассете Font _(Шрифт)_, изменим **Pixels / Unit** _(Пиксели / Единица)_ на 100 и **Size** _(Размер)_ на 64.

После загрузки звукового файла в ассет Sound _(Звук)_, все должно быть в порядке, вы просто можете проверить каждый звук.

На этом мы закончили с ассетами и можем переходить к построению игровой сцены.

## Построение сцены

*Сцена - это экран, на котором все объекты (так называемые Актеры) соединены друг с другом.*

Теперь мы установим все объекты в сцену. Объекты внутри сцены называются Actor _(Актер)_.

Для начала, чтобы видеть других Актеров в игре, нам нужен Актер Camera _(Камера)_.

> Для навигации внутри сцены, мы можем переключать режим камеры 2D / 3D, подробнее смотрите в документации.

Создадим **new actor** _(нового актера)_ с именем **Camera** _(Камера)_.

Установим **position** _(позицию)_ по оси Z (третья) на 5, чтобы поместить камеру спереди всех других объектов, у которых позиция по оси Z меньше 5:

Добавим **new component** _(новый компонент)_ Camera.

И изменим режим на **Orthographic** _(Ортогональный)_.

Затем установим **Orthographic Scale** _(Ортогональный Масштаб)_ на 6. (Мы делаем это для того, чтобы соответствовать фону)

![camera.png](https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/camera.png)

Создадим всех Актеров нашей игры и организуем их следующим образом:

![actors.png](https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/actors.png)

Добавим **новый компонент Sprite Renderer** _(Рендер Спрайта)_ в Актера Background _(Фон)_ и перетащим Спрайт фона в Sprite _(Спрайт)_. (или пропишем путь GameSprites/background)

Проделаем этот шаг для Актера Мяча _(Ball)_, Ракеток _(Paddle)_ Первого Игрока _(Player1)_ и Второго _(Player2)_. Для каждого мы добавим новый компонент Sprite Renderer и присоединим соответствующий Спрайт _(Sprite)_. Pad1 для Paddle Первого Игрока и т.д.

Создадим новый компонент **Text Renderer** _(Рендер Текста)_ для каждого Актера Score _(Счет)_ и перетащим Шрифт в поле Font _(Шрифт)_. Напишем 0 в поле Text _(Текст)_.

> Когда проекты станут больше, есть возможность просто дублировать Актеров, чтобы не повторять эти действия, но так как мы учимся, повторение этого шага имеет важное значение.

Теперь внутри сцены есть все необходимое.

Теперь нужно правильно установить **позиции** всех Актеров, чтобы все выглядело красиво, когда мы запустим игру.

Мы уже установили позицию Актера Camera на (0, 0, 5), вот позиции для всех остальных Актеров:

* Background (0, 0, 0)
* Ball (0, 0, 4)
* Player1 (0, 0, 0)
    * Paddle (-3.7, 0, 4)
    * Score (-2, 2.5, 2)
* Player2 (0, 0, 0)
    * Paddle (3.7, 0, 4)
    * Score (2, 2.5, 2)

Для завершения, мы можем установить цвет для каждого Актера Score, вы можете сделать это, нажав на маленький флажок рядом с параметром Color _(Цвет)_ и выбрать его. Вот шестнадцатеричные коды цветов:

* Player 1 – Score : f14735
* Player 2 – Score : 356ef1

Хорошо, все Актеры размешены, мы можем запустить игру, чтобы убедиться, что все выглядит правильно. В даннный момент, мы не можем ни с чем взаимодействовать и это нормально. Для этого нам нужно начать программировать логику игры. Однако есть последний шаг, прежде чем мы перейдем к коду. Нужно добавить Физические Тела нашим спрайтам, они должны быть твердыми, чтобы просиходили столкновения между мячом и ракетками.

## Настройка Arcade Bodies

В Сцене Game _(Игра)_, нужно добавить новые компоненты **Arcade Body 2D** _(Аркадное Тело 2D)_ к Paddles _(Ракеткам)_ и Ball _(Мячу)_.

Затем изменим размер у обоих ракеток на 0.2 для x и оставим 1 для y (size = 0.2, 1), и у мяча на 0.2 для x и y (size = 0.2, 0.2). Таким образом размер тел будет такимже, как размер спрайтов.

В игре будет казаться, что мячь сталкивается с ракетками. На самом деле это физическое тело мяча сталкивается с физическими телами ракеток, а спрайты просто прикреплены и следуют за ними.

![arcadebody.png](https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/arcadebody.png)

[1]: docs/start/setting_up
[2]: https://github.com/mseyne/superpowers-sources/tree/master/1SuperPong
