<!DOCTYPE html><html><head><title>p_Подготовка Superpowers</title><link rel="shortcut icon" href="/favicon.gif"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/style.css"></head></html><body class="artcl"><div class="artcl__back"></div><div class="artcl__overlay artcl__overlay--game"></div><aside class="sidebar"><div class="top-bar"><div class="top-bar__left"><a href="/sup" class="logo logo--game">p<span class="logo__slug">sup</span></a></div><div class="top-bar__right top-bar__right--pages"><a href="#" class="top-bar__link side-toggle-close">esc</a></div></div><ul class="menu menu--game menu--header"><li class="menu__item"><a href="index" class="menu__link"><span class="menu__slug">lv01</span><h1 class="menu__name">Пин-Понг</h1></a></li></ul><p class="sidebar__desc">Знакомимся с движком, языком TypeScript и создаем свою первую игру на Superpowers!</p><ul class="menu menu--game"><li class="menu__item"><a href="ch01" class="menu__link"><span class="menu__slug">ch01</span><p class="menu__name">Введение и План игры</p></a></li><li class="menu__item"><a href="ch02" class="menu__link menu--active"><span class="menu__slug">ch02</span><p class="menu__name">Подготовка Superpowers</p></a></li><li class="menu__item"><a href="ch03" class="menu__link"><span class="menu__slug">ch03</span><p class="menu__name">Программирование игровой логики</p></a></li><li class="menu__item"><a href="ch04" class="menu__link"><span class="menu__slug">ch04</span><p class="menu__name">Полировка игры</p></a></li><li class="menu__item"><a href="ch05" class="menu__link"><span class="menu__slug">ch05</span><p class="menu__name">Код готовой игры</p></a></li></ul></aside><div class="top-bar"><div class="top-bar__left"><a href="/sup" class="logo logo--game-artcl">p<span class="logo__slug">Sup</span></a></div><div class="top-bar__right top-bar__right--artcl"><span class="top-bar__path">sup / lv01 / ch02</span></div></div><div class="artcl-menu"><div class="artcl-menu__top"><ul class="menu menu--game menu--artcl"><li class="menu__item"><a href="#" class="menu__link artcl-menu-toc-toggle"><span class="menu__slug">-toc</span><p class="menu__name">Содержание</p></a></li><li class="menu__item"><a href="ch03" class="menu__link"><span class="menu__slug">ch03</span><p class="menu__name">Следующий</p></a></li><li class="menu__item"><a href="https://github.com/pajamhub/dev/edit/master/public/sup/lv01/ch02.md" class="menu__link"><span class="menu__slug">@git</span><p class="menu__name">GitHub</p></a></li></ul><p class="artcl-menu__edit">Если знаете, как сделать эту статью лучше, можете изменить её на GitHub! Ваша помощь очень важна!</p></div><div class="artcl-menu__bottom"><ul class="menu menu--game menu--artcl"><li class="menu__item artcl-menu-top"><a href="#" class="menu__link artcl-menu-top-toggle"> <span class="menu__slug">^top</span><p class="menu__name">Вверх</p></a></li></ul></div></div><main class="artcl__text artcl__text--game"><h1>Подготовка Superpowers</h1><h2>Создание структуры проекта</h2><blockquote>
<p>Я предполагаю, что вы уже установили Superpowers и немного с ним поработали, потому мы переходим сразу к игре. Если вам нужно изучить основы работы с приложением, пожалуйста прочитайте <a href="docs/start/setting_up">официальную документацию</a>.</p>
</blockquote>
<p>Мы запустили сервер и создали <strong>новый проект</strong>, который называется <code>PongTutorial</code>.</p>
<p>Начнем с создания ассета <strong>Scene</strong> <em>(Сцена)</em> (Нажмите <code>new asset</code> <em>(создать ассет)</em> или <code>ctrl+n</code>) с названием <strong>Game</strong> <em>(Игра)</em>.</p>
<p>В <strong>settings</strong> <em>(настройках)</em>, мы поместим Game в <strong>Startup Scene</strong> <em>(Начальная Сцена)</em> (перетащите или напишите Game). Должна появиться серая метка. И установим <strong>Screen ratio</strong> <em>(Соотношение экрана)</em> на (400, 300).</p>
<p>Давайте созадим папки для ассетов: GameSprites для Спрайтов, GameSounds для Звуков и GameScripts для Скриптов.</p>
<p>Теперь создадим новые ассеты: 4 Sprites <em>(Спрайты)</em>, 3 Sounds <em>(Звуки)</em> и 2 Scripts <em>(Скрипты)</em>, также добавим ассет Font <em>(Шрифт)</em>:</p>
<blockquote>
<p>Порядок папок и ассетов не имеет значения.</p>
</blockquote>
<ul>
<li>Game</li>
<li>GameSprites<ul>
<li>background</li>
<li>pad1</li>
<li>pad2</li>
<li>ball</li>
</ul>
</li>
<li>GameScripts<ul>
<li>Ball</li>
<li>Paddles</li>
</ul>
</li>
<li>GameSounds<ul>
<li>tac</li>
<li>toc</li>
<li>tada</li>
</ul>
</li>
<li>Font</li>
</ul>
<p><img src="https://github.com/mseyne/superpowers-tutorials/blob/master/1SuperPong/img/settingassets.png?raw=true" alt="settingassets.png"></p>
<h2>Загрузка игровых ассетов</h2><p><em>Ассет похож на коробку, которая содержит какой-то элемент игры. Это может быть изображение, скрипт, звук и т.д.</em></p>
<p>Мы построили структуру игровых ассетов, но они останутся пустыми, если мы не вложим в них содержание (файлы для спрайтов и звуков, код для скриптов).</p>
<p>Сначала вам нужно загрузить ассеты с <a href="https://github.com/mseyne/superpowers-sources/tree/master/1SuperPong">github репозитория</a>.</p>
<p>Ассеты спрайтов и звуков должны быть загружены внутрь проекта. Для каждого ассета, мы загружаем связанный с ним файл. (Например, background.png в ассет backgound)</p>
<p>Для ассетов спрайтов нужна настройка с <strong>установкой размера сетки</strong>, она должна быть такой же, как размер самого изображения, потому что мы не будем использовать кадры в этой игре. Мы таеже оставим стандартные значения frames/row <em>(кадры/строка)</em> и frames/column <em>(кадры/столбец)</em>, равные 1 для обоих.</p>
<p>Для каждого ассаета Спрайта, мы изменим значение рендеринг <strong>Pixels / Unit</strong> <em>(Пиксели / единица)</em>, которое по умолчанию 100, на 50.</p>
<p>Мы не будем изменять <strong>основу</strong> у наших спрайтов. Значение по умолчанию в % (50, 50) это означает, что основа находится по центру и это подходит для всех спрайтов нашей игры.</p>
<p>Вот, для примера, pad2 с правильными настройками.</p>
<p><img src="https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/spriteset.png" alt="spriteset.png"></p>
<p>В Ассете Font <em>(Шрифт)</em>, изменим <strong>Pixels / Unit</strong> <em>(Пиксели / Единица)</em> на 100 и <strong>Size</strong> <em>(Размер)</em> на 64.</p>
<p>После загрузки звукового файла в ассет Sound <em>(Звук)</em>, все должно быть в порядке, вы просто можете проверить каждый звук.</p>
<p>На этом мы закончили с ассетами и можем переходить к построению игровой сцены.</p>
<h2>Построение сцены</h2><p><em>Сцена - это экран, на котором все объекты (так называемые Актеры) соединены друг с другом.</em></p>
<p>Теперь мы установим все объекты в сцену. Объекты внутри сцены называются Actor <em>(Актер)</em>.</p>
<p>Для начала, чтобы видеть других Актеров в игре, нам нужен Актер Camera <em>(Камера)</em>.</p>
<blockquote>
<p>Для навигации внутри сцены, мы можем переключать режим камеры 2D / 3D, подробнее смотрите в документации.</p>
</blockquote>
<p>Создадим <strong>new actor</strong> <em>(нового актера)</em> с именем <strong>Camera</strong> <em>(Камера)</em>.</p>
<p>Установим <strong>position</strong> <em>(позицию)</em> по оси Z (третья) на 5, чтобы поместить камеру спереди всех других объектов, у которых позиция по оси Z меньше 5:</p>
<p>Добавим <strong>new component</strong> <em>(новый компонент)</em> Camera.</p>
<p>И изменим режим на <strong>Orthographic</strong> <em>(Ортогональный)</em>.</p>
<p>Затем установим <strong>Orthographic Scale</strong> <em>(Ортогональный Масштаб)</em> на 6. (Мы делаем это для того, чтобы соответствовать фону)</p>
<p><img src="https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/camera.png" alt="camera.png"></p>
<p>Создадим всех Актеров нашей игры и организуем их следующим образом:</p>
<p><img src="https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/actors.png" alt="actors.png"></p>
<p>Добавим <strong>новый компонент Sprite Renderer</strong> <em>(Рендер Спрайта)</em> в Актера Background <em>(Фон)</em> и перетащим Спрайт фона в Sprite <em>(Спрайт)</em>. (или пропишем путь GameSprites/background)</p>
<p>Проделаем этот шаг для Актера Мяча <em>(Ball)</em>, Ракеток <em>(Paddle)</em> Первого Игрока <em>(Player1)</em> и Второго <em>(Player2)</em>. Для каждого мы добавим новый компонент Sprite Renderer и присоединим соответствующий Спрайт <em>(Sprite)</em>. Pad1 для Paddle Первого Игрока и т.д.</p>
<p>Создадим новый компонент <strong>Text Renderer</strong> <em>(Рендер Текста)</em> для каждого Актера Score <em>(Счет)</em> и перетащим Шрифт в поле Font <em>(Шрифт)</em>. Напишем 0 в поле Text <em>(Текст)</em>.</p>
<blockquote>
<p>Когда проекты станут больше, есть возможность просто дублировать Актеров, чтобы не повторять эти действия, но так как мы учимся, повторение этого шага имеет важное значение.</p>
</blockquote>
<p>Теперь внутри сцены есть все необходимое.</p>
<p>Теперь нужно правильно установить <strong>позиции</strong> всех Актеров, чтобы все выглядело красиво, когда мы запустим игру.</p>
<p>Мы уже установили позицию Актера Camera на (0, 0, 5), вот позиции для всех остальных Актеров:</p>
<ul>
<li>Background (0, 0, 0)</li>
<li>Ball (0, 0, 4)</li>
<li>Player1 (0, 0, 0)<ul>
<li>Paddle (-3.7, 0, 4)</li>
<li>Score (-2, 2.5, 2)</li>
</ul>
</li>
<li>Player2 (0, 0, 0)<ul>
<li>Paddle (3.7, 0, 4)</li>
<li>Score (2, 2.5, 2)</li>
</ul>
</li>
</ul>
<p>Для завершения, мы можем установить цвет для каждого Актера Score, вы можете сделать это, нажав на маленький флажок рядом с параметром Color <em>(Цвет)</em> и выбрать его. Вот шестнадцатеричные коды цветов:</p>
<ul>
<li>Player 1 – Score : f14735</li>
<li>Player 2 – Score : 356ef1</li>
</ul>
<p>Хорошо, все Актеры размешены, мы можем запустить игру, чтобы убедиться, что все выглядит правильно. В даннный момент, мы не можем ни с чем взаимодействовать и это нормально. Для этого нам нужно начать программировать логику игры. Однако есть последний шаг, прежде чем мы перейдем к коду. Нужно добавить Физические Тела нашим спрайтам, они должны быть твердыми, чтобы просиходили столкновения между мячом и ракетками.</p>
<h2>Настройка Arcade Bodies</h2><p>В Сцене Game <em>(Игра)</em>, нужно добавить новые компоненты <strong>Arcade Body 2D</strong> <em>(Аркадное Тело 2D)</em> к Paddles <em>(Ракеткам)</em> и Ball <em>(Мячу)</em>.</p>
<p>Затем изменим размер у обоих ракеток на 0.2 для x и оставим 1 для y (size = 0.2, 1), и у мяча на 0.2 для x и y (size = 0.2, 0.2). Таким образом размер тел будет такимже, как размер спрайтов.</p>
<p>В игре будет казаться, что мячь сталкивается с ракетками. На самом деле это физическое тело мяча сталкивается с физическими телами ракеток, а спрайты просто прикреплены и следуют за ними.</p>
<p><img src="https://github.com/mseyne/superpowers-tutorials/raw/master/1SuperPong/img/arcadebody.png" alt="arcadebody.png"></p></main><div class="footer footer--artcl"><div class="footer__license"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" class="footer__license-link"><img alt="Лицензия Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" class="footer__license-img"/></a></div><div class="footer__social"><ul class="footer__social-list"><li class="footer__social-item"><a href="https://vk.com/pajam" title="vk.com" class="footer__social-link">vk</a></li><li class="footer__social-item"><a href="https://twitter.com/pajam_tw" title="twitter" class="footer__social-link">tw</a></li><li class="footer__social-item"><a href="https://pajam.tumblr.com/" title="tumblr" class="footer__social-link">tu</a></li></ul></div></div><div class="bottom-bar"><ul class="menu menu--game menu--artcl"><li class="menu__item"><a href="#" class="menu__link bottom-bar-toc-toggle"><span class="menu__slug">-toc</span><p class="menu__name">Содержание</p></a></li></ul></div><script type="text/javascript" src="../../js/sidebar.js"></script><script type="text/javascript" src="../../js/top.js"></script><script type="text/javascript" src="../../js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body>